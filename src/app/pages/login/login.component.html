<main id="main" fxLayout="row" fxLayoutAlign="center center">
  <section fxLayout="row" fxLayoutAlign="strech center">
    <mat-card
      class="content"
      fxLayout="row"
      fxLayoutAlign="space-between center"
    >
      <div class="login-width">
        <div
          class="mat-typography"
          fxLayout="column"
          fxLayoutAlign="start center"
        >
          <mat-card-header>
            <mat-card-title>
              <h1>{{ "LOGIN.title" | translate }}</h1>
            </mat-card-title>
          </mat-card-header>
          <mat-divider [inset]="true"></mat-divider>
          <form
            name="login_form"
            [formGroup]="loginForm"
            (submit)="login()"
            fxLayout="column"
            novalidate
          >
            <mat-card-content fxLayout="column">
              <br />
              <mat-form-field>
                <label for="login_username">
                  {{ "LOGIN.username_label" | translate }}
                </label>
                <input
                  id="login_username"
                  matInput
                  type="text"
                  formControlName="username"
                  #usernameEle
                  required
                />
                <mat-error
                  *ngIf="loginForm.controls.username.hasError('required')"
                  [innerHTML]="'MISC.required_field' | translate"
                >
                </mat-error>
              </mat-form-field>
              <br />
              <mat-form-field>
                <label for="login_password">{{
                  "LOGIN.password_label" | translate
                }}</label>
                <input
                  id="login_password"
                  matInput
                  [type]="hide ? 'password' : 'text'"
                  formControlName="password"
                  required
                />
                <button
                  mat-icon-button
                  matSuffix
                  type="button"
                  (click)="hide = !hide"
                >
                  <mat-icon
                    *ngIf="hide"
                    aria-hidden="false"
                    attr.aria-label="{{ 'LOGIN.hide_password' | translate }}"
                    >visibility</mat-icon
                  >
                  <mat-icon
                    *ngIf="!hide"
                    aria-hidden="false"
                    attr.aria-label="{{ 'LOGIN.show_password' | translate }}"
                    >visibility_off</mat-icon
                  >
                </button>
                <mat-error
                  *ngIf="loginForm.controls.password.hasError('required')"
                  [innerHTML]="'MISC.required_field' | translate"
                >
                </mat-error>
              </mat-form-field>
            </mat-card-content>
            <mat-card-actions fxLayout="row" fxLayoutAlign="center center">
              <button
                mat-raised-button
                class="btn-login"
                type="submit"
                *ngIf="!loginLoading"
              >
                {{ "LOGIN.submit" | translate }}
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  height="1em"
                  width="2em"
                  role="presentation"
                >
                  <path
                   fill="currentColor"
                    d="M18.87,9.13l-1.25,1.25-2.23,2.23a1.52,1.52,0,1,0,2.14,2.13l3-3,3-3a1.66,1.66,0,0,0,0-2.34l-3-3-3-3A1.59,1.59,0,0,0,15.29.41a1.58,1.58,0,0,0,.1,2.23L16.54,3.8l2.32,2.32h-9a1.59,1.59,0,0,0-1.65,1.5,1.59,1.59,0,0,0,1.65,1.5h9Z"
                  />
                  <path
                    fill="currentColor"
                    d="M3,6.24H1.65A1.59,1.59,0,0,0,0,7.74a1.59,1.59,0,0,0,1.65,1.5H3a1.59,1.59,0,0,0,1.65-1.5A1.59,1.59,0,0,0,3,6.24Z"
                  />
                </svg>
              </button>
              <div *ngIf="loginLoading">
                <span
                  ><strong>{{ "MISC.loading" | translate }}</strong></span
                >
              </div>
            </mat-card-actions>
          </form>
        </div>
      </div>
      <div class="login-width">
        <img
          class="small-logo"
          src="assets/images/logo.png"
          alt="Unidade ACESSO da FCT"
          fxHide.lt-md
        />
      </div>
    </mat-card>
  </section>
</main>
