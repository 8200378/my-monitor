<mat-card class="mat-typography">
  <mat-card-header>
    <mat-card-title>
      <h1>{{ "PAGES.title" | translate }}</h1>
    </mat-card-title>
  </mat-card-header>
  <mat-card-content>
    <div class="page-table-header">
      <mat-form-field appearance="outline">
        <label for="pages_filter">{{ "PAGES.table.filter" | translate }}</label>
        <input
          id="pages_filter"
          matInput
          (keyup)="applyFilter($event.target.value)"
        />
      </mat-form-field>
    </div>

    <div>
      <button
        mat-flat-button
        color="warn"
        (click)="deletePages()">
        {{ "PAGES.remove_button" | translate }}
      </button>
      <span fxFlex></span>

      <button mat-flat-button color="primary" (click)="reEvaluate()">
        {{ "PAGES.re_evaluate" | translate }}
      </button>
    </div>
    <section fxLayout="row" fxLayoutAlign="center center">
      <div class="table-wrapper">
        <h3>{{ "PAGES.table.title" | translate }}</h3>
        <h4>
          {{ "PAGES.table.subtitle" | translate }}
        </h4>
        <table
          matSort
          matSortActive="rank"
          matSortDisableClear
          (matSortChange)="sortData($event)"
        >
          <caption>
            {{
              "PAGES.table.subtitle" | translate
            }}
          </caption>
          <thead>
            <tr>
              <th><mat-checkbox  (change)="masterToggle()"></mat-checkbox></th>
              <th mat-sort-header="uri">
                {{ "PAGES.table.page" | translate }}
              </th>
              <th mat-sort-header="score">
                {{ "PAGES.table.score" | translate }}
              </th>
              <th colspan="3">
                {{ "PAGES.table.levels" | translate }}
              </th>
              <th mat-sort-header="date">
                {{ "PAGES.table.date" | translate }}
              </th>
            </tr>
            <tr>
              <th colspan="3"></th>
              <th mat-sort-header="A">
                {{ "PAGES.table.A" | translate }}
              </th>
              <th mat-sort-header="AA">
                {{ "PAGES.table.AA" | translate }}
              </th>
              <th mat-sort-header="AAA">
                {{ "PAGES.table.AAA" | translate }}
              </th>
              <th colspan="1"></th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let page of sortedData">
              <td>
                <mat-checkbox  (change)="onChkChange($event,page)" [checked]="selection[page.Uri]">
                </mat-checkbox>
              </td>
              <td class="name">
                <a href="{{ page.Uri }}">{{ page.Uri }}</a>
              </td>
              <td>{{ page.Score | toFixed }}</td>
              <td>{{ page.A }}</td>
              <td>{{ page.AA }}</td>
              <td>{{ page.AAA }}</td>
              <td>{{ page.Creation_Date | date: "dd/MM/yyyy" }}</td>
            </tr>
          </tbody>
        </table>
        <div
          class="pagination"
          fxLayout="row"
          fxLayoutAlign="space-between center"
        >
          <div>
            {{ indicator1 }} - {{ indicator2 }}
            {{ "PAGES.table.paginator.of" | translate }}
            {{ pages.length }}
            {{ "PAGES.table.paginator.items" | translate }}
          </div>
          <div>
            {{ "PAGES.table.paginator.see" | translate }}
            &nbsp;
            <select name="items" (change)="changeItemsPerPage($event)">
              <option value="50" selected>50</option>
              <option value="100">100</option>
              <option value="250">250</option>
              <option value="500">500</option>
            </select>
            &nbsp;
            {{ "PAGES.table.paginator.per_page" | translate }}
          </div>
          <div fxLayout="row" fxLayoutAlign="space-around center">
            <button
              type="button"
              (click)="firstPage()"
              [disabled]="indicator1 === 1"
            >
              <img
                src="assets/icons/icon_pages_last-page-arrow.svg"
                alt="primeira página"
                class="flip-image"
              />
            </button>
            <button
              type="button"
              (click)="previousPage()"
              [disabled]="indicator1 === 1"
            >
              <img
                src="assets/icons/icon_pages_next.svg"
                alt="página anterior"
                class="flip-image"
              />
            </button>
            <button
              type="button"
              (click)="nextPage()"
              [disabled]="indicator2 === pages.length"
            >
              <img
                src="assets/icons/icon_pages_next.svg"
                alt="próxima página"
              />
            </button>
            <button
              type="button"
              (click)="lastPage()"
              [disabled]="indicator2 === pages.length"
            >
              <img
                src="assets/icons/icon_pages_last-page-arrow.svg"
                alt="última página"
              />
            </button>
          </div>
        </div>
        <span class="note">
          {{ "PAGES.table.note" | translate }}
        </span>
      </div>
    </section>
  </mat-card-content>
</mat-card>
